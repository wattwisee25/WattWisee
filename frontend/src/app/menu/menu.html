<!-- Toggle menu (solo mobile) -->
<button class="btn btn-outline-secondary d-md-none mb-2 sidebar-toggle" 
        (click)="toggleSidebar()"
        [style.display]="sidebarOpen ? 'none' : 'block'" 
        aria-label="Apri menu">
  <i class="bi bi-list"></i>
</button>

<!-- Sidebar -->
<nav class="sidebar" [class.open]="sidebarOpen || isDesktop">

  <!-- Pulsante chiusura menu mobile -->
  <button *ngIf="sidebarOpen && !isDesktop" 
          class="btn btn-link text-white position-absolute top-0 end-0 m-1 d-md-none"
          (click)="toggleSidebar()" 
          aria-label="Chiudi menu">
    <i class="bi bi-x-lg fs-6"></i>
  </button>

  <div class="mb-4 text-center">
    <h1 class="h4">WATTWISE</h1>
  </div>

  <ul class="nav flex-column sidebar-nav">
    <li class="nav-item" *ngFor="let item of menuItems">
      <a class="nav-link d-flex align-items-center gap-2" 
         [routerLink]="item.route" 
         [ngClass]="{ 'active': isActive(item.route) }" 
         (click)="toggleSidebar()">
        <span [innerHTML]="item.icon"></span>
        <span>{{ item.label }}</span>
      </a>
    </li>

    <!-- Logout separato -->
    <li class="nav-item">
      <a class="nav-link d-flex align-items-center gap-2 logout" 
         (click)="logout()" style="cursor: pointer;">
        <i class="bi bi-box-arrow-right"></i>
        <span>Logout</span>
      </a>
    </li>
  </ul>
</nav>
